<div id="demo-container" class="container-slickgrid col-md-12 content">
  <h2 id="page-heading">Tổng hợp</h2>

  <div class="d-flex justify-content-between align-items-end flex-wrap mb-3">
    <!-- Bộ lọc ngày -->
    <form id="dateForm" class="d-flex align-items-end gap-3 flex-wrap">
      <div class="search-inp">
        <label class="form-label-header">Ngày bắt đầu</label>
        <input
          class="form-control"
          type="date"
          id="startDate"
          [(ngModel)]="startDates"
          [ngModelOptions]="{ standalone: true }"
          (change)="changeDate()"
        />
      </div>
      <div class="search-inp">
        <label class="form-label-header">Ngày kết thúc</label>
        <input
          class="form-control"
          type="date"
          id="endDate"
          [(ngModel)]="endDates"
          [ngModelOptions]="{ standalone: true }"
          (change)="changeDate()"
        />
      </div>
      <button class="btn btn-success" (click)="changeDate()">Áp dụng</button>
    </form>

    <!-- Các nút chức năng -->
    <div class="d-flex gap-2">
      <button class="btn btn-info" (click)="openPopupViewCTL()">Xem chi tiết lỗi</button>
      <button class="btn btn-warning" (click)="exportToExcel()">Phân tích bảo hành</button>
      <button class="btn btn-primary" (click)="getExportExcel()">Xuất báo cáo</button>
    </div>
  </div>

  <angular-slickgrid
    gridId="tong-hop"
    [columnDefinitions]="columnDefinitions"
    [gridOptions]="gridOptions"
    [dataset]="chiTietSanPhamTiepNhan"
    (onBeforeSearchChange)="onSearchChange($event)"
    (onAngularGridCreated)="angularGridReady($event)"
  ></angular-slickgrid>
</div>

<div class="table-responsive popup-background" role="dialog" *ngIf="popupViewCTL === true">
  <div class="popup-container">
    <div class="popup-header">
      <h2>Chi tiết lỗi sản phẩm</h2>
      <hr />
      <span class="close-btn" (click)="closePopupViewCTL()">&times;</span>
    </div>
    <div class="popup-content">
      <form>
        <angular-slickgrid
          gridId="chiTietLoi"
          [columnDefinitions]="conlumDefinitionCTL"
          [gridOptions]="gridOptionCTL"
          [dataset]="chiTietSanPhamTiepNhanCTL"
        ></angular-slickgrid>
      </form>
    </div>
  </div>
</div>
